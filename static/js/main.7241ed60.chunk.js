(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(18),s=n.n(a),i=(n(24),n(9)),o=n(3),l=(n(25),n(2)),j=n.n(l),b=n(6),u=n(5),d=n(0),h=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],a=n[1];Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/checkLogin",{});case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,console.log(n),a(n);case 8:case"end":return e.stop()}}),e)}))),[]);var s=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("logout"!=n){t.next=7;break}return t.next=3,fetch("/auth/logout",{});case 3:t.sent,a("false"),t.next=8;break;case 7:e.ChangeMode(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"active",href:"#home",children:"Blogger"})}),"false"!=r?Object(d.jsxs)("div",{style:{float:"right",color:"white",marginRight:"10px"},children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{children:r})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{onClick:function(){return s("logout")},children:"Logout"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{style:{float:"right"},children:Object(d.jsx)(i.b,{to:"/login",children:"Login"})}),Object(d.jsx)("li",{style:{float:"right"},children:Object(d.jsx)(i.b,{to:"/register",children:"Register"})})]})]})})},O=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),o=Object(u.a)(s,2);o[0],o[1];return Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/blog",{});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n),console.log(n);case 8:case"end":return e.stop()}}),e)}))),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsx)("p",{children:Object(d.jsx)(i.b,{to:"createblog",style:{marginLeft:"10px"},children:"New"})}),Object(d.jsx)("hr",{}),r.map((function(e,t){return Object(d.jsxs)("article",{className:"post",children:[Object(d.jsxs)("header",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.title}),void 0!==e.title?Object(d.jsxs)("div",{className:"about",children:["by ",e.username," on ",e.date]}):null]}),r[r.length-1].id==e.authorId?Object(d.jsx)(i.b,{style:{float:"right",display:"block",marginRight:"10px"},to:{pathname:"/updateblog",data:{id:e.id,title:e.title,body:e.body}},children:" Edit"}):null]}),Object(d.jsx)("p",{className:"body",children:e.body}),void 0!==e.title?Object(d.jsx)("hr",{}):null]},t)}))]})},x=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],h=i[1],O=Object(o.f)(),x=function(e){console.log(e.target.name),"email"===e.target.name?a(e.target.value):h(e.target.value)},p=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/login",{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:l})});case 2:return t=e.sent,e.next=5,t.text();case 5:"true"==e.sent?O.push("/"):alert("Register first");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("span",{children:"Enter your details to login"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"email",children:Object(d.jsx)("b",{children:"Email"})}),Object(d.jsx)("input",{type:"text",value:r,onChange:x,placeholder:"Enter Email",name:"email",required:!0}),Object(d.jsx)("label",{htmlFor:"password",children:Object(d.jsx)("b",{children:"Password"})}),Object(d.jsx)("input",{type:"password",placeholder:"Enter Password",name:"password",value:l,onChange:x,required:!0}),Object(d.jsx)("button",{onClick:p,children:"login"})]})},p=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],h=i[1],O=Object(o.f)(),x=function(e){"email"===e.target.name?a(e.target.value):h(e.target.value)},p=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/register",{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:l})});case 2:return t=e.sent,e.next=5,t.text();case 5:"true"==e.sent?O.push("/"):alert("Something went wrong");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("span",{children:"Enter your details to register"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"email",children:Object(d.jsx)("b",{children:"Email"})}),Object(d.jsx)("input",{type:"text",name:"email",value:r,onChange:x}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"password",children:Object(d.jsx)("b",{children:"Password"})}),Object(d.jsx)("input",{type:"password",name:"password",value:l,onChange:x}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:p,children:"Register"})]})},f=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],h=i[1],O=Object(o.f)(),x=function(e){"title"==e.target.name?a(e.target.value):h(e.target.value)},p=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/create",{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,body:l})});case 2:return t=e.sent,e.next=5,t.text();case 5:"true"==e.sent?O.push("/"):alert("Login First");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("span",{children:"Enter blog body and title"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"title",children:Object(d.jsx)("b",{children:"Title"})}),Object(d.jsx)("input",{type:"text",name:"title",value:r,onChange:x}),Object(d.jsx)("label",{htmlFor:"body",children:Object(d.jsx)("b",{children:"body"})}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{name:"body",rows:"10",cols:"131",value:l,onChange:x}),Object(d.jsx)("button",{onClick:p,children:"Submit"})]})},g=function(e){var t=e.location.data,n=t.id,r=t.title,a=t.body,s=Object(c.useState)(r),i=Object(u.a)(s,2),l=i[0],h=i[1],O=Object(c.useState)(a),x=Object(u.a)(O,2),p=x[0],f=x[1],g=Object(o.f)();console.log(n,r,a),Object(c.useEffect)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0==n&&alert("Please select a post");case 1:case"end":return e.stop()}}),e)}))),[]);var m=function(e){"title"==e.target.name?h(e.target.value):f(e.target.value)},v=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/update",{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,newtitle:l,newpost:p})});case 2:return t=e.sent,e.next=5,t.text();case 5:"true"==e.sent?g.push("/"):alert("some thing went wrong");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/delete",{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});case 2:return t=e.sent,e.next=5,t.text();case 5:"true"==e.sent?g.push("/"):alert("some thing went wrong");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("span",{children:"Enter new blog body and title"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"title",children:Object(d.jsx)("b",{children:"Title"})}),Object(d.jsx)("input",{type:"text",name:"title",value:l,onChange:m}),Object(d.jsx)("label",{htmlFor:"body",children:Object(d.jsx)("b",{children:"body"})}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{name:"body",rows:"10",cols:"131",value:p,onChange:m}),Object(d.jsx)("button",{onClick:v,children:"Submit"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{}),Object(d.jsx)("button",{style:{backgroundColor:"red"},onClick:y,children:"Delete"})]})]})},m=function(){return Object(d.jsx)(i.a,{children:Object(d.jsx)("div",{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",exact:!0,component:O}),Object(d.jsx)(o.a,{path:"/login",exact:!0,component:x}),Object(d.jsx)(o.a,{path:"/register",exact:!0,component:p}),Object(d.jsx)(o.a,{path:"/createblog",exact:!0,component:f}),Object(d.jsx)(o.a,{path:"/updateblog",exact:!0,component:g})]})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),v()}},[[33,1,2]]]);
//# sourceMappingURL=main.7241ed60.chunk.js.map